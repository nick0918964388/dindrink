# 功能說明 (Features Overview)

## 🎯 完整功能清單

### 1️⃣ 菜單管理 (Menu Management)

#### 📸 OCR 自動辨識
- 上傳飲料店菜單照片
- 自動辨識品項名稱和價格
- 支援繁體中文 + 英文
- 可手動編輯 OCR 結果

#### 💾 歷史菜單保存
- 所有建立的菜單儲存在瀏覽器
- 可重複使用同一份菜單
- 一鍵刪除不需要的菜單
- 顯示菜單品項數量

### 2️⃣ 訂單建立 (Order Session Creation)

#### 🔗 分享連結
- 自動產生唯一訂單 URL
- QR Code 掃碼點餐
- 一鍵複製連結分享
- 無需登入或註冊

#### 📱 主揪功能
- 建立訂單後直接進入管理頁面
- 隨時查看 QR Code
- 即時追蹤訂單狀態

### 3️⃣ 點餐介面 (Customer Order Page)

#### 🧋 飲料選擇
- 瀏覽完整菜單
- 顯示每項價格
- 加入購物車

#### ❄️🍬 客製化選項
- **冰量**: 正常冰 / 少冰 / 微冰 / 去冰
- **甜度**: 正常糖 / 少糖 / 微糖 / 無糖
- 每杯飲料獨立設定

#### 👤 訂購人資訊
- 輸入姓名
- 查看購物車
- 即時計算總價
- 送出訂單

#### ✅ 訂單確認
- 送出後顯示成功畫面
- 顯示訂單總金額
- 可再次點餐

### 4️⃣ 主揪管理頁面 (Organizer Dashboard)

#### 📊 即時統計
- **訂單數**: 總共幾個人點餐
- **飲料總數**: 總共幾杯飲料
- **總金額**: NT$ 總計

#### 📋 品項彙總
- 每種飲料的訂購數量
- 單價 × 數量 = 小計
- 每杯的客製化設定
- 點餐人姓名

#### 👥 所有訂單
- 按時間排序 (最新在上)
- 每個人的完整訂單
- 顯示訂購時間
- 個人訂單總金額

#### 🔄 即時更新
- 每 2 秒自動刷新
- 無需手動重新整理
- 新訂單自動顯示

### 5️⃣ 設計特色 (Design Features)

#### 🎨 視覺設計
- 藍紫漸層背景
- 卡片式佈局
- 陰影與懸停效果
- 平滑過渡動畫

#### 📱 響應式設計
- 手機優先 (Mobile-First)
- 平板、桌面都適配
- 網格自動調整
- 按鈕易於點擊

#### 🎯 用戶體驗
- 清晰的視覺層次
- 彩色統計卡片
- 直觀的操作流程
- 友善的錯誤提示

## 🚀 使用流程

```
主揪 (Organizer)
├─ 1. 建立菜單 (上傳圖片 OCR 或手動輸入)
├─ 2. 建立訂單連結
├─ 3. 分享 QR Code / 連結
└─ 4. 前往管理頁面查看訂單

參與者 (Customer)
├─ 1. 掃描 QR Code 或開啟連結
├─ 2. 選擇想要的飲料
├─ 3. 設定冰量、甜度
├─ 4. 輸入姓名
└─ 5. 送出訂單

主揪 (管理中)
├─ 即時看到新訂單
├─ 查看品項彙總
├─ 確認每個人的訂單明細
└─ 計算總金額
```

## 💡 技術亮點

### OCR 文字辨識
- 使用 Tesseract.js
- 支援繁體中文 + 英文混合
- 智能價格提取
- 自動清理品項名稱

### 資料同步
- localStorage 本地儲存
- 輪詢機制 (Polling) 模擬即時更新
- 可選配 Supabase 實現真正的 Realtime
- UUID 生成唯一 ID

### 路由設計
```
/                    → 首頁 (菜單列表)
/menu/new            → 建立新菜單
/session/new?menuId  → 建立訂單連結
/order/:sessionId    → 顧客點餐頁面
/organizer/:sessionId → 主揪管理頁面
```

## 📦 資料結構

### 儲存在 localStorage

#### `drink-order-menus`
```json
[
  {
    "id": "uuid",
    "name": "清心福全 市政店",
    "items": [
      { "id": "uuid", "name": "珍珠奶茶", "price": 50 },
      { "id": "uuid", "name": "冬瓜茶", "price": 30 }
    ],
    "createdAt": "2024-02-14T10:00:00.000Z"
  }
]
```

#### `drink-order-sessions`
```json
[
  {
    "id": "uuid",
    "menuId": "uuid",
    "menuName": "清心福全 市政店",
    "orders": [
      {
        "id": "uuid",
        "customerName": "王小明",
        "items": [
          {
            "menuItemId": "uuid",
            "menuItemName": "珍珠奶茶",
            "price": 50,
            "iceLevel": "少冰",
            "sugarLevel": "微糖"
          }
        ],
        "createdAt": "2024-02-14T10:05:00.000Z"
      }
    ],
    "createdAt": "2024-02-14T10:00:00.000Z"
  }
]
```

## 🔮 未來擴充方向

### 短期
- [ ] Supabase Realtime 訂閱
- [ ] 匯出訂單為 CSV
- [ ] 訂單編輯 / 取消功能
- [ ] 訂單截止時間

### 中期
- [ ] 個人付款狀態追蹤
- [ ] 多選品項 (批量加入)
- [ ] 訂單通知 (Push / Email)
- [ ] 歷史訂單查詢

### 長期
- [ ] 管理員驗證
- [ ] 多主揪協作
- [ ] 店家模式 (接單介面)
- [ ] 統計報表 (最受歡迎飲料等)

---

**開發完成！🎉**

訪問 http://localhost:5173/ 開始使用！
